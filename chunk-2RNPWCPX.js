import{b as c}from"./chunk-H43YTR5A.js";import{J as n,M as a,a as i,b as o,m as r}from"./chunk-BHQF7RE3.js";var g=class s{constructor(t){this.api=t}mapProject(t){let e=[];if(t.links)try{e=typeof t.links=="string"?JSON.parse(t.links):t.links}catch(l){console.error("Failed to parse links",l)}return o(i({},t),{tags:typeof t.techStack=="string"?JSON.parse(t.techStack):t.tags||[],links:e,screenshots:typeof t.screenshots=="string"?JSON.parse(t.screenshots):t.screenshots||[],caseStudy:typeof t.caseStudy=="string"?t.caseStudy:JSON.stringify(t.caseStudy)})}getAll(){return this.api.get("/projects").pipe(r(t=>t.map(e=>this.mapProject(e))))}getBySlug(t){return this.api.get(`/projects/${t}`).pipe(r(e=>this.mapProject(e)))}getFeatured(){return this.getAll().pipe(r(t=>t.filter(e=>e.featured)))}static \u0275fac=function(e){return new(e||s)(a(c))};static \u0275prov=n({token:s,factory:s.\u0275fac,providedIn:"root"})};export{g as a};
