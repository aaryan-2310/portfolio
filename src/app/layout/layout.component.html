<div class="layout-container">
  <mat-toolbar class="navbar">
    <a class="logo" routerLink="/home" aria-label="Go to home">
      <img ngSrc="assets/logo/aryan-logo.svg" width="120" height="32" priority alt="Aryan Mishra - Code Crafted" class="logo-img" />
    </a>

    <!-- Desktop Menu -->
    <div class="nav-links desktop-menu">
      <a mat-button routerLink="/home" routerLinkActive="active">
        <mat-icon>home</mat-icon>
        <span>Home</span>
      </a>
      <a mat-button routerLink="/about" routerLinkActive="active">
        <mat-icon>person</mat-icon>
        <span>About</span>
      </a>
      <a mat-button routerLink="/projects" routerLinkActive="active">
        <mat-icon>apps</mat-icon>
        <span>Projects</span>
      </a>
      <a mat-button routerLink="/career" routerLinkActive="active">
        <mat-icon>person</mat-icon>
        <span>Professional Experience</span>
      </a>
    </div>

    <div id="right-side">
      <button class="avail-badge" type="button" role="switch" [class.readonly]="!isOwner" [attr.aria-checked]="availableForFreelance" (click)="isOwner && toggleAvailability()" mat-button [class.pulse]="badgePulse">
        <span class="dot" [class.on]="availableForFreelance"></span>
        <span class="label">{{ availableForFreelance ? 'Available' : 'Booked' }}</span>
      </button>
      <button mat-icon-button (click)="toggleTheme()" aria-label="Toggle theme" id="theme-toggle-button">
        <mat-icon>{{ getCurrentTheme() }}_mode</mat-icon>
      </button>
    </div>

    <!-- Mobile Menu -->
    <button mat-icon-button [matMenuTriggerFor]="menu" class="mobile-menu-button">
      <mat-icon>menu</mat-icon>
    </button>

    <mat-menu #menu="matMenu">
      <button mat-menu-item [disabled]="!isOwner" (click)="toggleAvailability()">
        <span class="avail-badge">
          <span class="dot" [class.on]="availableForFreelance"></span>
          <span class="label">{{ availableForFreelance ? 'Available' : 'Booked' }}</span>
        </span>
      </button>
      <a mat-menu-item routerLink="/home" routerLinkActive="active">
        <mat-icon>home</mat-icon>
        <span>Home</span>
      </a>
      <a mat-menu-item routerLink="/about" routerLinkActive="active">
        <mat-icon>person</mat-icon>
        <span>About</span>
      </a>
      <a mat-menu-item routerLink="/projects" routerLinkActive="active">
        <mat-icon>apps</mat-icon>
        <span>Projects</span>
      </a>
      <a mat-menu-item routerLink="/career" routerLinkActive="active">
        <mat-icon>person</mat-icon>
        <span>Professional Experience</span>
      </a>
    </mat-menu>
  </mat-toolbar>

  <main class="content" id="main">
    <router-outlet></router-outlet>
  </main>

  <!-- Mobile sticky CTA -->
  <div class="sticky-cta">
    <portfolio-button label="Book a Call" variant="primary" size="lg" [routerLink]="'/about'" ariaLabel="Book a call">
      <span icon class="material-icons">phone_in_talk</span>
    </portfolio-button>
  </div>

  <portfolio-footer></portfolio-footer>
</div>
