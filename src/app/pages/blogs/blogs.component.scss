.blogs {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--space-64) var(--space-24) var(--space-80);

  .blogs__header {
    text-align: center;
    margin: 0 0 var(--space-32);

    .blogs__title {
      margin: 0 0 var(--space-16);
      font-size: clamp(2rem, 4vw, 2.5rem);
      font-weight: 700;
      color: var(--theme-on-surface);
      letter-spacing: -0.01em;
    }

    .blogs__subtitle {
      margin: 0 auto;
      max-width: 640px;
      color: var(--theme-on-surface-variant);
      font-size: 1.125rem;
      line-height: 1.6;
    }
  }
}

// Controls Container (Search + Filter)
.blogs__controls {
  display: flex;
  flex-direction: column;
  gap: var(--space-24);
  margin-bottom: var(--space-48);
}

// Search Bar
.blogs__search {
  position: relative;
  max-width: 480px;
  margin: 0 auto;
  width: 100%;

  .search-icon {
    position: absolute;
    left: var(--space-16);
    top: 50%;
    transform: translateY(-50%);
    color: var(--theme-on-surface-variant);
    pointer-events: none;
  }

  input {
    width: 100%;
    padding: var(--space-12) var(--space-16) var(--space-12) var(--space-48);
    background: var(--theme-surface-1);
    border: 1px solid var(--theme-border);
    border-radius: var(--radius-full);
    color: var(--theme-on-surface);
    font-size: 1rem;
    transition:
      border-color 0.2s ease,
      box-shadow 0.2s ease;

    &:focus {
      outline: none;
      border-color: var(--theme-accent);
      box-shadow: 0 0 0 2px color-mix(in oklab, var(--theme-accent) 20%, transparent);
    }

    &::placeholder {
      color: var(--theme-on-surface-variant);
      opacity: 0.7;
    }
  }
}

// Tag Filter Bar
.blogs__filters {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-8);
  justify-content: center;
  padding-bottom: var(--space-16);
  border-bottom: 1px solid var(--theme-border);

  // Mobile horizontal scroll
  @media (max-width: 600px) {
    flex-wrap: nowrap;
    justify-content: flex-start;
    overflow-x: auto;
    padding-bottom: var(--space-12);
    -webkit-overflow-scrolling: touch;

    // Hide scrollbar
    scrollbar-width: none;

    &::-webkit-scrollbar {
      display: none;
    }

    // Mask for scroll hint
    mask-image: linear-gradient(to right, black 85%, transparent 100%);
  }
}

.filter-chip {
  display: inline-flex;
  align-items: center;
  padding: var(--space-8) var(--space-16);
  border-radius: var(--radius-full);
  background: var(--theme-surface-1);
  border: 1px solid var(--theme-border);
  color: var(--theme-on-surface-variant);
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  white-space: nowrap; // Prevent wrapping inside chip
  flex-shrink: 0; // Prevent shrinking in flex container
  transition:
    background-color 0.2s ease,
    border-color 0.2s ease,
    color 0.2s ease,
    transform 0.2s ease;

  &:hover {
    background: color-mix(in oklab, var(--theme-accent) 10%, transparent);
    border-color: var(--theme-accent);
    transform: translateY(-1px);
  }

  &.active {
    background: var(--theme-accent);
    border-color: var(--theme-accent);
    color: var(--theme-on-accent);
  }
}

// Blog Grid
.blogs__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
  gap: var(--space-24);

  @media (max-width: 599px) {
    grid-template-columns: 1fr;
    gap: var(--space-20);
  }
}

// Blog Card
.blog-card {
  background: var(--theme-surface-1);
  border: 1px solid var(--theme-border);
  border-radius: var(--radius-lg);
  overflow: hidden;
  box-shadow: var(--elev-1);
  display: flex;
  flex-direction: column;
  cursor: pointer;
  text-decoration: none;
  color: inherit;
  transition:
    transform 0.25s ease,
    box-shadow 0.25s ease,
    border-color 0.25s ease;

  &:hover,
  &:focus-within {
    transform: translateY(-6px);
    box-shadow: var(--elev-3);
    border-color: var(--theme-accent);

    .blog-card__media {
      transform: scale(1.03);
    }

    .blog-card__cta {
      color: var(--theme-accent);

      .material-icons {
        transform: translateX(4px);
      }
    }
  }

  .blog-card__media {
    position: relative;
    aspect-ratio: 16/9;
    width: 100%;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-color: color-mix(in oklab, var(--theme-accent) 15%, var(--theme-surface-1));
    border-bottom: 1px solid var(--theme-border);
    transition: transform 0.35s ease;
    overflow: hidden;

    &.no-image {
      background: linear-gradient(135deg,
          color-mix(in oklab, var(--theme-accent) 20%, var(--theme-surface-1)),
          color-mix(in oklab, var(--theme-accent) 5%, var(--theme-surface-1)));
    }
  }

  .blog-card__category {
    position: absolute;
    top: var(--space-12);
    left: var(--space-12);
    padding: var(--space-4) var(--space-12);
    border-radius: var(--radius-full);
    background: var(--theme-surface);
    color: var(--theme-accent);
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    backdrop-filter: blur(8px);
    border: 1px solid color-mix(in oklab, var(--theme-accent) 30%, transparent);
  }

  .blog-card__body {
    padding: var(--space-24);
    display: flex;
    flex-direction: column;
    gap: var(--space-12);
    flex: 1;
  }

  .blog-card__meta {
    display: flex;
    align-items: center;
    gap: var(--space-16);
    font-size: 0.8125rem;
    color: var(--theme-on-surface-variant);

    span {
      display: inline-flex;
      align-items: center;
      gap: var(--space-4);
    }

    .material-icons {
      font-size: 1rem;
      opacity: 0.7;
    }
  }

  .blog-card__title {
    margin: 0;
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--theme-on-surface);
    line-height: 1.35;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .blog-card__excerpt {
    margin: 0;
    color: var(--theme-on-surface-variant);
    font-size: 0.9375rem;
    line-height: 1.6;
    flex: 1;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .blog-card__tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-6);
    margin-top: auto;
  }

  .tag-chip {
    display: inline-flex;
    align-items: center;
    padding: var(--space-4) var(--space-10);
    border-radius: var(--radius-full);
    background-color: color-mix(in oklab, var(--theme-accent) 10%, transparent);
    color: var(--theme-on-surface);
    border: 1px solid color-mix(in oklab, var(--theme-accent) 25%, var(--theme-border));
    font-size: 0.75rem;
    font-weight: 500;
  }

  .blog-card__cta {
    display: flex;
    align-items: center;
    gap: var(--space-8);
    padding-top: var(--space-16);
    margin-top: var(--space-8);
    border-top: 1px solid var(--theme-border);
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--theme-on-surface-variant);
    transition: color 0.2s ease;

    .material-icons {
      font-size: 1.125rem;
      transition: transform 0.2s ease;
    }
  }
}

// Empty State
.blogs__empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-80) var(--space-24);
  text-align: center;
  color: var(--theme-on-surface-variant);

  .empty-icon,
  h3,
  p {
    // Styles handled by EmptyStateComponent
  }
}

// Responsive
@media (max-width: 768px) {
  .blogs {
    padding: var(--space-48) var(--space-24) var(--space-64);
  }

  .blogs .blogs__header {
    margin-bottom: var(--space-24);
  }

  .blogs .blogs__header .blogs__title {
    font-size: 1.75rem;
  }

  .blogs .blogs__header .blogs__subtitle {
    font-size: 1rem;
  }

  .blogs__filters {
    margin-bottom: var(--space-32);
  }

  .blog-card .blog-card__body {
    padding: var(--space-20);
  }
}

@media (max-width: 480px) {
  .blogs {
    padding: var(--space-32) var(--space-16) var(--space-48);
  }

  .blog-card .blog-card__body {
    padding: var(--space-16);
    gap: var(--space-10);
  }

  .blog-card .blog-card__title {
    font-size: 1.125rem;
  }

  .filter-chip {
    padding: var(--space-6) var(--space-12);
    font-size: 0.8125rem;
  }
}

// Theme support
.blogs {
  background: var(--theme-surface);
  color: var(--theme-on-surface);
}