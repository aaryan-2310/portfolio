<mat-card class="experience-card" [@cardAnimation]>
  <mat-card-header>
    <div class="company-logo" [attr.aria-label]="'Logo of ' + experience.company">
      <img [src]="experience.logoUrl" [alt]="experience.company" [matTooltip]="experience.company">
    </div>
    <div class="header-content">
      <div class="company-info">
        <h2 class="company-name">{{experience.company}}</h2>
        @if (experience.location) {
          <span class="location" [matTooltip]="'Location: ' + experience.location">
            <mat-icon aria-hidden="true">location_on</mat-icon>
            <span class="visually-hidden">Location:</span>
            {{experience.location}}
          </span>
        }
      </div>
      <h3 class="role">{{experience.role}}</h3>
      <div class="date-info">
        <div class="date-range" [matTooltip]="'Duration: ' + getDuration()">
          <mat-icon aria-hidden="true">event</mat-icon>
          <span class="visually-hidden">Duration:</span>
          <span>{{getDateRange()}}</span>
        </div>
        <span class="duration" aria-label="Total duration">{{getDuration()}}</span>
      </div>
    </div>
  </mat-card-header>

  <mat-card-content>
    <div class="description">
      <ul>
        @for (point of experience.description; track point) {
          <li>{{point}}</li>
        }
      </ul>
    </div>

    <div class="skills-section">
      <h4>Skills & Technologies</h4>
      <div class="skills-container" role="list">
        @for (skill of experience.skills; track skill.name) {
          <div class="skill-chip" 
               role="listitem"
               [matTooltip]="skill.name"
               [attr.aria-label]="skill.name">
            @if (skill.isCustomIcon) {
              <img [src]="skill.icon" [alt]="''" class="skill-icon" aria-hidden="true">
            } @else {
              <mat-icon class="skill-icon" aria-hidden="true">{{skill.icon}}</mat-icon>
            }
            <span class="skill-name">{{skill.name}}</span>
          </div>
        }
      </div>
    </div>
  </mat-card-content>
</mat-card>
