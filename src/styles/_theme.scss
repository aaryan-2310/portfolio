@use '@angular/material' as mat;
@use './generated/themes/dark/green/_theme-colors' as green-theme-colors;
@use './colors' as colors;

// Define theme-specific CSS variable sets
$light-vars: (
  background: #ffffff,
  inverse-on-surface: #f9fafb,
  on-accent: #ffffff,
  surface: #ffffff,
  on-surface: #1f2937,
  primary: #059669,
  on-primary: #ffffff,
  accent: #059669,
  surface-variant: #f3f4f6,
  // Gray 100
  on-surface-variant: #374151,
  // Gray 700
  outline: #d1d5db,
  // Gray 300
  border: #e5e7eb,
  // Gray 200
  surface-1: #ffffff,
  surface-2: #fafafa,
  // Gray 50
  surface-3: #f5f5f5,
  // Gray 100
  hover: color-mix(in oklab, var(--theme-on-surface) 6%, transparent),
  active: color-mix(in oklab, var(--theme-on-surface) 12%, transparent),
  disabled: color-mix(in oklab, var(--theme-on-surface) 40%, transparent),
  ring-color: color-mix(in oklab, var(--theme-accent) 50%, white),
  shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05),
  shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
  shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
  surface-rgb: (255, 255, 255),
  accent-rgb: (5, 150, 105),
);

$dark-vars: (
  background: #181818,
  // Alias for surface in some contexts
  inverse-on-surface: #1f2937,
  on-accent: #ffffff,
  surface: #181818,
  on-surface: #f9fafb,
  primary: #{colors.$color-accent},
  on-primary: #ffffff,
  accent: #{colors.$color-accent},
  surface-variant: #374151,
  // Gray 700
  on-surface-variant: #a0aec0,
  // Gray 400
  outline: #4b5563,
  // Gray 600
  border: #333333,
  surface-1: #1b1b1b,
  surface-2: #212121,
  surface-3: #262626,
  hover: color-mix(in oklab, var(--theme-on-surface) 10%, transparent),
  active: color-mix(in oklab, var(--theme-on-surface) 20%, transparent),
  disabled: color-mix(in oklab, var(--theme-on-surface) 40%, transparent),
  ring-color: color-mix(in oklab, var(--theme-accent) 70%, black),
  shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.3),
  shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4),
  shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5),
  surface-rgb: (24, 24, 24),
  accent-rgb: (52, 211, 153),
);

@mixin theme-vars($map) {

  // Wrap declarations to align with future Sass behavior changes for nested declarations.
  & {
    @each $name, $value in $map {
      --theme-#{$name}: #{$value};
    }
  }
}

$light-theme: (
  color: (theme-type: light,
    primary: green-theme-colors.$primary-palette,
    tertiary: green-theme-colors.$tertiary-palette,
  ),
  typography: Inter,
  density: 0,
);

$dark-theme: (
  color: (theme-type: dark,
    primary: green-theme-colors.$primary-palette,
    tertiary: green-theme-colors.$tertiary-palette,
  ),
  typography: Inter,
  density: 0,
);

html {
  color-scheme: light dark;
  @include mat.theme($light-theme);
  @include mat.toolbar-overrides((container-background-color: transparent,
      container-text-color: colors.$color-accent,
    ));
  @include theme-vars($light-vars);
}

html[data-theme='dark'] {
  @include mat.theme($dark-theme);
  @include theme-vars($dark-vars);
}

// .custom-theme {
//   @include mat.theme((
//       primary: $color-primary,
//       tertiary: $color-accent
//   ));
// }